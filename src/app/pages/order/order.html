<div class="max-w-5xl mx-auto bg-[linen] my-6 p-6" *ngIf="order()">
    <h1>Order Details</h1>
    <div class="mt-2 text-sm text-gray-600">
        <span>Order placed {{ order().date | date:'longDate' }}</span> | <span class="ml-2">Order number #{{ order().id
            }}</span>
    </div>

    <div class="border border-[grey] my-[10px] grid grid-cols-1 md:grid-cols-3 p-4 gap-4 bg-white">
        <div>
            <h2 class="font-bold mb-1">Ship to</h2>
            <p class="text-sm">
                {{ order().details.name }}<br>
                {{ order().details.address }}<br>
                {{ order().details.city }}, {{ order().details.state }} - {{ order().details.pincode }}<br>
                Phone: {{ order().details.phone }}
            </p>
        </div>
        <div>
            <h2 class="font-bold mb-1">Payment method</h2>
            <p class="text-sm">Pay on Delivery / Card</p>
        </div>
        <div>
            <h2 class="font-bold mb-1">Order Summary</h2>
            <div class="text-sm">
                <div class="flex justify-between">
                    <p>Item(s) Subtotal:</p>
                    <p>{{ subtotal() | currency:'INR' }}</p>
                </div>
                <div class="flex justify-between">
                    <p>Tax (5%):</p>
                    <p>{{ (subtotal() * 0.05) | currency:'INR' }}</p>
                </div>
                <div class="flex justify-between font-bold border-t border-gray-300 mt-2 pt-2">
                    <p>Grand Total:</p>
                    <p>{{ order().total | currency:'INR' }}</p>
                </div>
            </div>
        </div>
    </div>

    <div *ngFor="let item of order().items"
        class="border border-[grey] grid grid-cols-[20%_50%_30%] gap-4 p-4 mb-2 bg-white items-center">
        <div class="flex justify-center">
            <img [src]="item.images" [alt]="item.title" class="max-h-[150px] object-contain" />
        </div>
        <div>
            <p class="text-[16px] text-[#007185] font-medium hover:underline cursor-pointer">
                {{ item.title }}
            </p>
            <div class="mt-1 text-sm">
                <p>Quantity: {{ item.quantity || 1 }}</p>
                <p class="font-bold text-red-700">{{ item.price | currency:'INR' }}</p>
            </div>

            <div class="flex mt-2 text-xs text-gray-500">
                <span>Sold by: Cocoblu Retail</span>
            </div>
        </div>
        <div class="flex flex-col gap-2 items-center">
            <button
                class="bg-[#FFD814] hover:bg-[#F7CA00] w-[80%] text-[black] py-1 rounded shadow-sm text-sm border border-[#FCD200]">
                Track Package
            </button>
            <button class="border border-[#D5D9D9] hover:bg-[#F7FAFA] w-[80%] py-1 rounded shadow-sm text-sm">
                Write product review
            </button>
        </div>
    </div>
</div>

<div *ngIf="!order()" class="flex flex-col items-center justify-center h-[50vh] text-center">
    <h2 class="text-2xl font-bold mb-2">No Order Found</h2>
    <p class="text-gray-600 mb-4">You haven't placed any orders yet.</p>
    <a routerLink="/" class="bg-yellow-400 px-6 py-2 rounded-md font-medium hover:bg-yellow-500">Continue Shopping</a>
</div>